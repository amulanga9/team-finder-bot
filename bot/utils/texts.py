"""–¢–µ–∫—Å—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π –±–æ—Ç–∞"""

# === –°–¢–ê–†–¢–û–í–´–ï –°–û–û–ë–©–ï–ù–ò–Ø ===

START_MESSAGE = """üëã –ü—Ä–∏–≤–µ—Ç! –Ø –ø–æ–º–æ–≥—É –Ω–∞–π—Ç–∏ teammates –¥–ª—è —Å—Ç–∞—Ä—Ç–∞–ø–∞.

–í—ã–±–µ—Ä–∏ —Å–≤–æ—é —Å–∏—Ç—É–∞—Ü–∏—é:"""

# === –°–û–û–ë–©–ï–ù–ò–Ø –î–õ–Ø –ö–û–ú–ê–ù–î–´ ===

TEAM_NAME_REQUEST = """üéØ –û—Ç–ª–∏—á–Ω–æ! –î–∞–≤–∞–π —Å–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Ñ–∏–ª—å –∫–æ–º–∞–Ω–¥—ã.

–ù–∞–ø–∏—à–∏ <b>–Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã</b> (3-50 —Å–∏–º–≤–æ–ª–æ–≤):"""

TEAM_NAME_ERROR = """‚ùå –ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 3 –¥–æ 50 —Å–∏–º–≤–æ–ª–æ–≤.

–ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑:"""

TEAM_IDEA_REQUEST = """üí° –†–∞—Å—Å–∫–∞–∂–∏ –æ –≤–∞—à–µ–π –∏–¥–µ–µ (–¥–æ 200 —Å–∏–º–≤–æ–ª–æ–≤)

<i>–ù–∞–ø—Ä–∏–º–µ—Ä: "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ–ø—É—Ç—á–∏–∫–æ–≤ –≤ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è. –£–∂–µ –µ—Å—Ç—å –ø—Ä–æ—Ç–æ—Ç–∏–ø –Ω–∞ Figma –∏ –±–∞–∑–∞ –∏–∑ 100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"</i>

–ò–ª–∏ –Ω–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É [–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å] –µ—Å–ª–∏ –ø–æ–∫–∞ –Ω–µ –≥–æ—Ç–æ–≤."""

TEAM_IDEA_ERROR = """‚ùå –û–ø–∏—Å–∞–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ (–º–∞–∫—Å–∏–º—É–º 200 —Å–∏–º–≤–æ–ª–æ–≤).

–ü–æ–ø—Ä–æ–±—É–π –∫–æ—Ä–æ—á–µ:"""

TEAM_SKILLS_REQUEST = """üë• –ö–æ–≥–æ –≤—ã –∏—â–µ—Ç–µ –≤ –∫–æ–º–∞–Ω–¥—É?

–í—ã–±–µ—Ä–∏ –Ω—É–∂–Ω—ã–µ –Ω–∞–≤—ã–∫–∏ (–º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ):"""

TEAM_SKILLS_EMPTY = """‚ö†Ô∏è –ù—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –Ω–∞–≤—ã–∫!

–í—ã–±–µ—Ä–∏ –∫–æ–≥–æ –≤—ã –∏—â–µ—Ç–µ:"""

TEAM_REGISTRATION_COMPLETE = """‚úÖ –ü—Ä–æ—Ñ–∏–ª—å –∫–æ–º–∞–Ω–¥—ã <b>{team_name}</b> —Å–æ–∑–¥–∞–Ω!

–ß—Ç–æ –¥–∞–ª—å—à–µ?
‚Ä¢ –ù–∞–ø–∏—à–∏ /search —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ teammates
‚Ä¢ –ò–ª–∏ –∂–¥–∏ - —Å–æ–∏—Å–∫–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Å–∞–º–∏ –Ω–∞–π—Ç–∏ –≤–∞—Å!"""

# === –°–û–û–ë–©–ï–ù–ò–Ø –î–õ–Ø –°–û-–§–ê–£–ù–î–ï–†–ê ===

COFOUNDER_NAME_REQUEST = """üí° –û—Ç–ª–∏—á–Ω–æ! –î–∞–≤–∞–π —Å–æ–∑–¥–∞–¥–∏–º —Ç–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å.

–ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç?"""

COFOUNDER_NAME_ERROR = """‚ùå –ò–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 2 –¥–æ 50 —Å–∏–º–≤–æ–ª–æ–≤.

–ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑:"""

COFOUNDER_SKILL_REQUEST = """üõ† –ö–∞–∫–æ–π —É —Ç–µ–±—è –æ—Å–Ω–æ–≤–Ω–æ–π –Ω–∞–≤—ã–∫?

–í—ã–±–µ—Ä–∏ –û–î–ò–ù:"""

COFOUNDER_IDEA_WHAT_REQUEST = """üí° –†–∞—Å—Å–∫–∞–∂–∏ –æ —Å–≤–æ–µ–π –∏–¥–µ–µ.

<b>–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Ç–≤–æ–π –ø—Ä–æ–¥—É–∫—Ç?</b> (–¥–æ 200 —Å–∏–º–≤–æ–ª–æ–≤)

<i>–ù–∞–ø—Ä–∏–º–µ—Ä: "–ü–æ–º–æ–≥–∞–µ—Ç —Å—Ç—É–¥–µ–Ω—Ç–∞–º –Ω–∞–π—Ç–∏ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–≤"</i>

–ò–ª–∏ –Ω–∞–∂–º–∏ [–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å]"""

COFOUNDER_IDEA_WHAT_ERROR = """‚ùå –û–ø–∏—Å–∞–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ (–º–∞–∫—Å–∏–º—É–º 200 —Å–∏–º–≤–æ–ª–æ–≤).

–ü–æ–ø—Ä–æ–±—É–π –∫–æ—Ä–æ—á–µ:"""

COFOUNDER_IDEA_WHO_REQUEST = """üë• <b>–î–ª—è –∫–æ–≥–æ —Ç–≤–æ–π –ø—Ä–æ–¥—É–∫—Ç?</b> (–¥–æ 200 —Å–∏–º–≤–æ–ª–æ–≤)

<i>–ù–∞–ø—Ä–∏–º–µ—Ä: "–î–ª—è —à–∫–æ–ª—å–Ω–∏–∫–æ–≤ –≤ –¢–∞—à–∫–µ–Ω—Ç–µ"</i>

–ò–ª–∏ –Ω–∞–∂–º–∏ [–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å]"""

COFOUNDER_IDEA_WHO_ERROR = """‚ùå –û–ø–∏—Å–∞–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ (–º–∞–∫—Å–∏–º—É–º 200 —Å–∏–º–≤–æ–ª–æ–≤).

–ü–æ–ø—Ä–æ–±—É–π –∫–æ—Ä–æ—á–µ:"""

COFOUNDER_REGISTRATION_COMPLETE = """‚úÖ –ü—Ä–æ—Ñ–∏–ª—å —Å–æ–∑–¥–∞–Ω, <b>{name}</b>!

–ß—Ç–æ –¥–∞–ª—å—à–µ?
‚Ä¢ –ù–∞–ø–∏—à–∏ /search —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ teammates
‚Ä¢ –ò–ª–∏ –∂–¥–∏ - –∫–æ–º–∞–Ω–¥—ã –º–æ–≥—É—Ç —Å–∞–º–∏ –Ω–∞–π—Ç–∏ —Ç–µ–±—è!"""

# === –°–û–û–ë–©–ï–ù–ò–Ø –î–õ–Ø –°–û–ò–°–ö–ê–¢–ï–õ–Ø ===

SEEKER_NAME_REQUEST = """üë§ –û—Ç–ª–∏—á–Ω–æ! –î–∞–≤–∞–π —Å–æ–∑–¥–∞–¥–∏–º —Ç–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å.

–ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç?"""

SEEKER_NAME_ERROR = """‚ùå –ò–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 2 –¥–æ 50 —Å–∏–º–≤–æ–ª–æ–≤.

–ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑:"""

SEEKER_SKILLS_REQUEST = """üõ† –ß—Ç–æ —É–º–µ–µ—à—å –¥–µ–ª–∞—Ç—å?

–í—ã–±–µ—Ä–∏ 1-3 –Ω–∞–≤—ã–∫–∞ (–≥–ª–∞–≤–Ω–æ–µ —Å–≤–µ—Ä—Ö—É):"""

SEEKER_SKILLS_ERROR = """‚ö†Ô∏è –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –æ—Ç 1 –¥–æ 3 –Ω–∞–≤—ã–∫–æ–≤!

–ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑:"""

SEEKER_REGISTRATION_COMPLETE = """‚úÖ –ü—Ä–æ—Ñ–∏–ª—å —Å–æ–∑–¥–∞–Ω, <b>{name}</b>!

–ß—Ç–æ –¥–∞–ª—å—à–µ?
‚Ä¢ –ù–∞–ø–∏—à–∏ /search —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –∫–æ–º–∞–Ω–¥—ã
‚Ä¢ –ò–ª–∏ –∂–¥–∏ - –∫–æ–º–∞–Ω–¥—ã –º–æ–≥—É—Ç —Å–∞–º–∏ –Ω–∞–π—Ç–∏ —Ç–µ–±—è!"""

# === –•–û–õ–û–î–ù–´–ô –°–¢–ê–†–¢ ===

COLD_START_MESSAGE = """

<i>–¢—ã –æ–¥–∏–Ω –∏–∑ –ø–µ—Ä–≤—ã—Ö! üéâ

–ü–æ–∫–∞ –±–∞–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –º–∞–ª–µ–Ω—å–∫–∞—è, –Ω–æ:
‚úÖ –ú—ã —É–≤–µ–¥–æ–º–∏–º —Ç–µ–±—è –∫–æ–≥–¥–∞ –ø–æ—è–≤—è—Ç—Å—è –ø–æ–¥—Ö–æ–¥—è—â–∏–µ teammates
‚úÖ –ü–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ —á–∞—Ç Launch Lab: [—Å—Å—ã–ª–∫–∞]</i>

[üîî –í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è]"""

# === –ù–ê–í–´–ö–ò –° –û–ü–ò–°–ê–ù–ò–Ø–ú–ò ===

SKILLS_DESCRIPTIONS = {
    "backend": {
        "name": "Backend (Python/Go)",
        "description": "–î–ª—è: API, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, —Å–µ—Ä–≤–µ—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞"
    },
    "frontend": {
        "name": "Frontend (React)",
        "description": "–î–ª—è: –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, —Å–∞–π—Ç—ã"
    },
    "mobile": {
        "name": "Mobile (Flutter)",
        "description": "–î–ª—è: iOS/Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"
    },
    "telegram_bots": {
        "name": "Telegram Bots",
        "description": "–î–ª—è: –±–æ—Ç—ã –≤ Telegram (–º–æ–∂–µ—Ç –∑–∞–º–µ–Ω–∏—Ç—å Backend –¥–ª—è MVP!)"
    },
    "design": {
        "name": "Design (Figma)",
        "description": "–î–ª—è: UI/UX, –¥–∏–∑–∞–π–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤"
    },
    "marketing": {
        "name": "Marketing/Growth",
        "description": "–î–ª—è: –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ"
    },
    "ai_ml": {
        "name": "AI/ML",
        "description": "–î–ª—è: –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ, –Ω–µ–π—Ä–æ—Å–µ—Ç–∏"
    }
}

# === –ö–ù–û–ü–ö–ò ===

BUTTON_TEAM = "üéØ –£ –Ω–∞—Å –∫–æ–º–∞–Ω–¥–∞ (2+ —á–µ–ª–æ–≤–µ–∫–∞)"
BUTTON_IDEA = "üí° –£ –º–µ–Ω—è –∏–¥–µ—è, –∏—â—É —Å–æ-—Ñ–∞—É–Ω–¥–µ—Ä–∞"
BUTTON_HELP = "üë§ –ü—Ä–æ—Å—Ç–æ —Ö–æ—á—É –ø–æ–º–æ—á—å –∫–æ–º–∞–Ω–¥–µ"
BUTTON_SKIP = "‚è≠ –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å"
BUTTON_DONE = "‚úÖ –ì–æ—Ç–æ–≤–æ"
BUTTON_SEARCH_NOW = "üîç –ò—Å–∫–∞—Ç—å —Å–µ–π—á–∞—Å"
BUTTON_WAIT = "‚è∞ –ü–æ–¥–æ–∂–¥—É"

# === –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ===

def get_skill_button_text(skill_key: str, selected: bool = False) -> str:
    """–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤—ã–∫–∞ —Å —á–µ–∫–±–æ–∫—Å–æ–º"""
    checkbox = "‚òëÔ∏è" if selected else "‚òê"
    skill_info = SKILLS_DESCRIPTIONS.get(skill_key, {})
    name = skill_info.get("name", skill_key)
    return f"{checkbox} {name}"


def get_skill_full_text(skill_key: str) -> str:
    """–ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–∞–≤—ã–∫–∞ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º"""
    skill_info = SKILLS_DESCRIPTIONS.get(skill_key, {})
    name = skill_info.get("name", skill_key)
    description = skill_info.get("description", "")
    return f"{name}\n   {description}" if description else name


def format_selected_skills(selected_skills: list) -> str:
    """–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –Ω–∞–≤—ã–∫–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è"""
    return ", ".join([SKILLS_DESCRIPTIONS.get(skill, {}).get("name", skill) for skill in selected_skills])


# === –ü–û–ò–°–ö ===

SEARCH_RESULTS_HEADER = """–ù–∞—à–µ–ª {count} —á–µ–ª–æ–≤–µ–∫ —Å –Ω—É–∂–Ω—ã–º–∏ –Ω–∞–≤—ã–∫–∞–º–∏ ({skills}).
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ"""

SEARCH_NO_RESULTS = """–ü–æ–∫–∞ –Ω–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Å–æ–∏—Å–∫–∞—Ç–µ–ª–µ–π üòî

–ù–û –º—ã —É–≤–µ–¥–æ–º–∏–º —Ç–µ–±—è –∫–æ–≥–¥–∞ –ø–æ—è–≤—è—Ç—Å—è!"""

SEARCH_USER_CARD = """üë§ {name} {recommended}
üõ† {skills}
üìÖ –ë—ã–ª –≤ —Å–µ—Ç–∏: {last_active}"""

USER_DETAIL = """üë§ <b>{name}</b>

üõ† <b>–ù–∞–≤—ã–∫–∏:</b> {skills}

üí° <b>–ò–¥–µ—è:</b>
{idea}

üìÖ <b>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:</b> {last_active}
üìä <b>–°—Ç–∞—Ç—É—Å:</b> {activity_status}"""

INVITATION_SENT = """‚úÖ –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!

{name} –ø–æ–ª—É—á–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ."""

INVITATION_LIMIT_REACHED = """‚ö†Ô∏è –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π!

–í—ã –º–æ–∂–µ—Ç–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –º–∞–∫—Å–∏–º—É–º {limit} –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π –≤ –¥–µ–Ω—å.
–°–µ–≥–æ–¥–Ω—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: {count}

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≤—Ç—Ä–∞."""

# === –ü–†–ò–ì–õ–ê–®–ï–ù–ò–Ø ===

INVITATION_RECEIVED = """üë• –ö–æ–º–∞–Ω–¥–∞ <b>{team_name}</b> –ø—Ä–∏–≥–ª–∞—à–∞–µ—Ç —Ç–µ–±—è!

üí° <b>–ò–¥–µ—è:</b> {idea}
üîç <b>–ò—â—É—Ç:</b> {needed_skills}"""

INVITATION_ACCEPTED = """‚úÖ –û—Ç–ª–∏—á–Ω–æ! –í—ã –ø—Ä–∏–Ω—è–ª–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ.

–ö–æ–Ω—Ç–∞–∫—Ç –ª–∏–¥–µ—Ä–∞ –∫–æ–º–∞–Ω–¥—ã: @{leader_username}"""

INVITATION_REJECTED = """‚ùå –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ."""

# === –ö–ù–û–ü–ö–ò –ü–û–ò–°–ö–ê ===

BUTTON_INVITE = "‚úÖ –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å"
BUTTON_DETAIL = "üëÅ –ü–æ–¥—Ä–æ–±–Ω–µ–µ"
BUTTON_ACCEPT_INVITE = "‚úÖ –ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ!"
BUTTON_MEET = "üìÖ –í—Å—Ç—Ä–µ—Ç–∏—Ç—å—Å—è"
BUTTON_REJECT_INVITE = "‚ùå –ù–µ —Å–µ–π—á–∞—Å"
BUTTON_CHANGE_SKILLS = "‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å –Ω—É–∂–Ω—ã–µ –Ω–∞–≤—ã–∫–∏"
BUTTON_OK_WAIT = "‚è∞ –û–∫, –ø–æ–¥–æ–∂–¥—É"


def format_user_activity(last_active: datetime) -> str:
    """–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
    now = datetime.utcnow()
    delta = now - last_active
    
    if delta.days == 0:
        return "—Å–µ–≥–æ–¥–Ω—è üü¢"
    elif delta.days <= 7:
        return f"{delta.days} –¥–Ω. –Ω–∞–∑–∞–¥ üü°"
    else:
        return f"{delta.days} –¥–Ω. –Ω–∞–∑–∞–¥ üî¥"


def get_activity_status(last_active: datetime) -> str:
    """–ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏"""
    now = datetime.utcnow()
    delta = now - last_active
    
    if delta.days == 0:
        return "–ê–∫—Ç–∏–≤–µ–Ω"
    elif delta.days <= 7:
        return "–ù–µ–¥–∞–≤–Ω–æ –±—ã–ª"
    else:
        return "–î–∞–≤–Ω–æ –Ω–µ –∑–∞—Ö–æ–¥–∏–ª"


def is_recommended(last_active: datetime) -> str:
    """–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"""
    now = datetime.utcnow()
    delta = now - last_active
    
    return "‚≠ê –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º!" if delta.days == 0 else ""
